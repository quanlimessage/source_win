2016-01-21
パスワードの最大入力の制御を追加（管理画面のユーザー編集画面では30で固定されている。）
表のショッピングで３０文字以上入力して管理画面で文字数の警告が出てしまう為制御

ファイルの削除処理の判定を追加
*のみの場合は処理をしない、処理した場合フォルダの全ファイルが削除される為

メール本文で改行無しの長文を入力した場合自動的に改行するように
修正しました。

/regist/forgetpass
のパスワード入力に脆弱性があった為修正。

ショッピングのテンプレートファイルの読み込みに調整をいたしました。
スマホサイトからの読み込みでも問題無しに読み込ませる。

メールの改行無しでの長文メールで文字化け下しまう
現象を修正、自動的に改行を入れる処理を入れたが
HTMLメールは対象外
タグの途中で改行してしまう危険性がある。


2015-09-09
ショッピングのサンプルプログラムで商品詳細の情報を取得する
SQL文で$_GETを直接入れているので修正。

2015-09-03
正規表現の10桁-6桁で
"([0-9]{10,})-([0-9]{6})"
この場合だと10桁-6桁を一部分含めばOKになるので
"^([0-9]{10,})-([0-9]{6})$"
この様に初めと終わりが10桁-6桁になるように
正規表現を修正

"([0-9]{10,})-([0-9]{6})"
から
"^([0-9]{10,})-([0-9]{6})$"
に置換して修正しただけです。

修正前だと下記の様にSQLインジェクションができてしまいます。
【%27+AND+%271%27%3D%271】を加えて詳細ページが表示されたら危険です。

?id=1276251282-714260%27+AND+%271%27%3D%271
このGETをプログラムに渡した場合$res_idは
1276251282-714260' AND '1'='1

2015-07-21
ベトナムの固定IPを追加
113.161.70.50 118.69.35.102

2015-07-17
メルマガのページネーション時に前回の配信者と除外者の処理が正常に動作していないのを修正。
サイトライトのA1でリターンパスが１つのメールアドレスに設定する処理がされていないので修正。

2015-06-26
スマホアクセス解析での画像「リフェラー」から「リファラー」に変更

2015-06-16
管理画面　アクセス解析の画像を「リフェラー」から「リファラー」に変更

2015-06-02
ベトナムの為に急遽P１のリンク付きを作成

2015-03-19
フリーレイアウトサンプル

2015-03-04
管理者宛て自動送信メールの差出人メールアドレスがカンマ区切りに対応していない不具合を修正

2015-02-13
Paypal決済サンプル設置

2015-01-28
W3系プログラムで編集時にプレビューする場合、更新時かつ元々資料ファイルが無い状態で資料を選択してプレビューを行うと、一部データが表示されなくなる不具合を修正。

2015-01-27
パスワード変更完了時のメールで、ヘッダーが崩れる不具合を修正

2015-01-22
S5のファイルパスの記述ミスがある部分を修正

2015-01-20
文字装飾からemタグを削除
N系の日付の作り方をsprintに統一

2014-12-12
/ver_utf8/sample_base/site_win_5s10s_Basis/sql/
にある古いSQL文は使用されると困るので削除しました。

ショッピングでカートに商品が無い状態で購入できるバグを修正
【バグの再現方法】
------------------------------------------------------------------------------
ブラウザのタブで１つ目がショッピングの確認画面、２つ目がカートページで
２つ目でカートの商品を全て削除、１つ目のショッピングで修正ボタンを選択して
入力画面から確認画面へ移動して、決済ボタンを押すとカートに商品が無い状態で決済されてしまう。
------------------------------------------------------------------------------


2014-07-01
ベトナム支店から管理画面のID：zeeksdgで閲覧できるようにの118.69.226.204のIPを追加。

2014-07-01
お問い合わせフォームで確認画面、完了画面のURLを変わるように修正
A1,A1_html,A3　が対象

2014-06-04
ベトナム支店から管理画面のID：zeeksdgで閲覧できるようにの14.161.0.18のIPを追加。

2014-05-30
/common/config.php と /common/INI_config.php にある
【本番アップ後の処理】にあるリダイレクト処理を除去
（原因は不明だが誤作動で本番アップをしたらデモにリダイレクトしたと報告を受けた為）

2014-05-29
* S6の記事登録　複製時に並び順が複製元の下になる様に修正。

2014-05-19
* 新規と更新で分かれていた処理を統合。
/shopcolsize/back_office/product_edit/
/shopcolsize/back_office/product_news/
↓
/shopcolsize/back_office/product/

2014-05-16
アクセス解析のファイルをAPIサーバーに移動したため
アクセス解析タグのURL変更

・変更前
https://mx16.all-internet.jp/state/state2.js
↓
・変更後
https://api.all-internet.jp/accesslog/access.js

2014-05-13
* ショッピングで商品を入れてカートページを複数表示させて
商品を削除した後に、別タブで商品を加算した場合壊れたデータが追加されてしまうのを修正。
* 末尾改行削除
* 不要ファイル削除

2014-05-08
* s13_shopcolsizeとshop2の差分を解消

2014-03-10
・ショッピングに税率変更プログラムを追加
・お問い合わせフォームでアクセス解析に入力画面、確認画面、完了画面をページ別に認識できるように修正。


2014-02-18
* 仮顧客情報から取得した情報を本顧客情報に登録する際に文字列のエスケープ処理を追加

【修正ファイル】
/httpdocs/sample/ver_20131126/ver_utf8/shop2/regist.php
/httpdocs/sample/ver_20131126/ver_utf8/shop2_cv/regist.php
/httpdocs/sample/ver_20131126/ver_utf8/shopcolsize/regist.php
/httpdocs/sample/ver_20131126/ver_utf8/shopcolsize_cv/regist.php

【編集者】
白石雄大

2014-01-24
* A3のメール添付ファイルの拡張子のバグ修正。

2014-1-7
インクルードファイルにグーグルアナリティクスのタグを設定
と【/common/js/ga.js】を追加
    ↓
    2014/1/8に元に戻すように依頼があり、元に戻す

2013-12-03
* A3修正 添付ファイル名を元ファイル名の拡張子を使用するように変更

2013-12-03
* R1バグ修正

2013-12-03(11月26日,27日)
・管理画面のサポナビデザインを修正
・mb_send_mail処理の5番目のパラメータ　additional_parameter 　のデータを付け加える。
　対象はA1,H1A,ショッピング

2013-11-18
ショッピングのクレジット決済仮登録で初回購入時にパスワードが正常に反映されていないのを修正
ショッピングのカラーサイズで画像を更新した時に古い画像が削除されなかったのを修正


2013-11-1
* スマホサイト用のbm.php img_out.phpが無かった為ファイル追加。
【追加ファイル】
/httpdocs/sample/ver_20131018/sp/bm.php
/httpdocs/sample/ver_20131018/sp/img_out.php
【編集者】
三好貴幸

2013-10-30
* 商品最大件数登録時、新規登録ボタン・複製ボタンが非表示になるように修正
* 商品紹介一覧画面・並び替え画面のプルダウンに件数が表示されるように修正

【修正ファイル】
ver_20131018/ver_euc/sample_base/site_win_5s10s/S7_3rd/back_office/s7_3rd_product/DISP_listview.php
ver_20131018/ver_euc/sample_base/site_win_5s10s/S7_3rd/back_office/s7_3rd_product/LGC_getDB-data.php
ver_20131018/ver_euc/sample_base/site_win_5s10s/S7_3rd/back_office/s7_3rd_product/sort.php

ver_20131018/ver_euc/sample_base/site_win_5s10s/S7_3rd_sc/back_office/s7_3rd_product/DISP_listview.php
ver_20131018/ver_euc/sample_base/site_win_5s10s/S7_3rd_sc/back_office/s7_3rd_product/LGC_getDB-data.php
ver_20131018/ver_euc/sample_base/site_win_5s10s/S7_3rd_sc/back_office/s7_3rd_product/sort.php

ver_20131018/ver_utf8/sample_base/site_win_5s10s/S7_3rd/back_office/s7_3rd_product/DISP_listview.php
ver_20131018/ver_utf8/sample_base/site_win_5s10s/S7_3rd/back_office/s7_3rd_product/LGC_getDB-data.php
ver_20131018/ver_utf8/sample_base/site_win_5s10s/S7_3rd/back_office/s7_3rd_product/sort.php

ver_20131018/ver_utf8/sample_base/site_win_5s10s/S7_3rd_sc/back_office/s7_3rd_product/DISP_listview.php
ver_20131018/ver_utf8/sample_base/site_win_5s10s/S7_3rd_sc/back_office/s7_3rd_product/LGC_getDB-data.php
ver_20131018/ver_utf8/sample_base/site_win_5s10s/S7_3rd_sc/back_office/s7_3rd_product/sort.php

【編集者】
白石雄大

2013-09-09
* ショートタグを廃止
* 不要ファイル削除
* ショップの最大登録件数のバグを修正
* P1を新仕様に修正

2013-09-05
* /responsive/を追加。レスポンシブサイト用。
* /sp/を追加。スマホサイト用。
* /common/を追加。共有ファイル等用。
* /common/にインクルードファイルを移動。
インクルードファイルはデバグ中。とりあえず数が大きい物が最新。
2はssl時にデモがあれば戻れるようにしたが、本番公開後にデモを残す場合があるので保留。
3はフラグで本番とデモを切り替える。

2013-08-07
* ショップの修正

2013-08-05
* H1AとH1A_htmlをページネーション対応に変更

2013-07-09
* shopのクレカ購入時フローを変更

2013-07-04
* バックアップファイルの削除
* /up_img/や/product_img/内のファイルを削除
* /db/内のファイルを削除
* /site_win_Lite/の削除
* /var_euc/のディレクトリを作りEUCのサンプルはその中に。
* ショッププログラムの完了ページ 「<p style="font-size:14px;color:#FF0000;font-weight:bolder;">尚、続けて商品をご購入される場合は、お手数ですが</br>一度ブラウザを閉じてから再度ご利用ください。</p>」をコメントアウト
* ショッププログラムの完了ページ ゼウスへの送信フォームをスマホ対応クレジットに変更
* A1 LGC_inputChk.php スパムチェックのバグ修正
* /var_utf8/ アクセス解析をeuc仕様に修正。
* アクセス解析 リフェラーをリファラーに文言統一。画像も。
* S7系 動的SEOを追加
* sort.php 文言修正
